"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7607],{3007:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>u,toc:()=>l});var n=o(5893),a=o(1151);const r={title:"useBeforeUnload",new:!0,sidebar_position:void 0},s="useBeforeUnload",u={id:"hooks/use-before-unload",title:"useBeforeUnload",description:"This hook is just a helper around window.onbeforeunload. It can be useful to save important application state on the page (to something like the browser's local storage), before the user navigates away from your page. That way if they come back you can restore any stateful information (restore form input values, etc.)",source:"@site/react-router/docs/hooks/use-before-unload.md",sourceDirName:"hooks",slug:"/hooks/use-before-unload",permalink:"/react-router-v6-searchable-docs/hooks/use-before-unload",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1671143716,formattedLastUpdatedAt:"Dec 15, 2022",frontMatter:{title:"useBeforeUnload",new:!0},sidebar:"tutorialSidebar",previous:{title:"useAsyncValue",permalink:"/react-router-v6-searchable-docs/hooks/use-async-value"},next:{title:"useBlocker",permalink:"/react-router-v6-searchable-docs/hooks/use-blocker"}},c={},l=[];function i(e){const t={code:"code",h1:"h1",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"usebeforeunload",children:(0,n.jsx)(t.code,{children:"useBeforeUnload"})}),"\n",(0,n.jsxs)(t.p,{children:["This hook is just a helper around ",(0,n.jsx)(t.code,{children:"window.onbeforeunload"}),". It can be useful to save important application state on the page (to something like the browser's local storage), before the user navigates away from your page. That way if they come back you can restore any stateful information (restore form input values, etc.)"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-tsx",metastring:"lines=[1,7-11]",children:'import { useBeforeUnload } from "react-router-dom";\n\nfunction SomeForm() {\n  const [state, setState] = React.useState(null);\n\n  // save it off before users navigate away\n  useBeforeUnload(\n    React.useCallback(() => {\n      localStorage.stuff = state;\n    }, [state])\n  );\n\n  // read it in when they return\n  React.useEffect(() => {\n    if (state === null && localStorage.stuff != null) {\n      setState(localStorage.stuff);\n    }\n  }, [state]);\n\n  return <>{/*... */}</>;\n}\n'})})]})}function d(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(i,{...e})}):i(e)}},1151:(e,t,o)=>{o.d(t,{Z:()=>u,a:()=>s});var n=o(7294);const a={},r=n.createContext(a);function s(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function u(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);
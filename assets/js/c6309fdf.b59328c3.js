"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3165],{3140:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>l,frontMatter:()=>i,metadata:()=>a,toc:()=>d});var r=n(5893),o=n(1151);const i={title:"Index Query Param",new:!0,sidebar_position:void 0},s="Index Query Param",a={id:"guides/index-search-param",title:"Index Query Param",description:"You may find a wild ?index appear in the URL of your app when submitting forms.",source:"@site/react-router/docs/guides/index-search-param.md",sourceDirName:"guides",slug:"/guides/index-search-param",permalink:"/react-router-v6-searchable-docs/guides/index-search-param",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1662745445,formattedLastUpdatedAt:"Sep 9, 2022",frontMatter:{title:"Index Query Param",new:!0},sidebar:"tutorialSidebar",previous:{title:"Index Route",permalink:"/react-router-v6-searchable-docs/guides/index-route"},next:{title:"Migrating to Remix",permalink:"/react-router-v6-searchable-docs/guides/migrating-to-remix"}},c={},d=[];function u(e){const t={code:"code",em:"em",h1:"h1",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"index-query-param",children:"Index Query Param"}),"\n",(0,r.jsxs)(t.p,{children:["You may find a wild ",(0,r.jsx)(t.code,{children:"?index"})," appear in the URL of your app when submitting forms."]}),"\n",(0,r.jsxs)(t.p,{children:["Because of nested routes, multiple routes in your route hierarchy can match the URL. Unlike navigations where all matching route loaders are called to build up the UI, when a form is submitted ",(0,r.jsx)(t.em,{children:"only one action is called"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["Because index routes share the same URL as their parent, the ",(0,r.jsx)(t.code,{children:"?index"})," param lets you disambiguate between the two."]}),"\n",(0,r.jsx)(t.p,{children:"For example, consider the following router and forms:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-jsx",children:'createBrowserRouter([\n  {\n    path: "/projects",\n    element: <ProjectsLayout />,\n    action: ProjectsLayout.action,\n    children: [\n      {\n        index: true,\n        element: <ProjectsIndex />,\n        action: ProjectsPage.action,\n      },\n    ],\n  },\n]);\n\n<Form method="post" action="/projects" />;\n<Form method="post" action="/projects?index" />;\n'})}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"?index"})," param will submit to the index route, the action without the index param will submit to the parent route."]}),"\n",(0,r.jsxs)(t.p,{children:["When a ",(0,r.jsx)(t.code,{children:"<Form>"})," is rendered in an index route without an ",(0,r.jsx)(t.code,{children:"action"}),", the ",(0,r.jsx)(t.code,{children:"?index"})," param will automatically be appended so that the form posts to the index route. The following form, when submitted, will post to ",(0,r.jsx)(t.code,{children:"/projects?index"})," because it is rendered in the context of the projects index route:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'function ProjectsIndex() {\n  return <Form method="post" />;\n}\n'})}),"\n",(0,r.jsxs)(t.p,{children:["If you moved the code to the ",(0,r.jsx)(t.code,{children:"ProjectsLayout"})," route, it would instead post to ",(0,r.jsx)(t.code,{children:"/projects"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["This applies to ",(0,r.jsx)(t.code,{children:"<Form>"})," and all of its cousins:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'let submit = useSubmit();\nsubmit({}, { action: "/projects" });\nsubmit({}, { action: "/projects?index" });\n\nlet fetcher = useFetcher();\nfetcher.submit({}, { action: "/projects" });\nfetcher.submit({}, { action: "/projects?index" });\n<fetcher.Form action="/projects" />;\n<fetcher.Form action="/projects?index" />;\n<fetcher.Form />; // defaults to the route in context\n'})})]})}function l(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>a,a:()=>s});var r=n(7294);const o={},i=r.createContext(o);function s(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);
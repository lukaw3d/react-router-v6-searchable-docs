"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9410],{869:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>l});var n=t(5893),o=t(1151);const s={title:"Picking a Router",order:1,new:!0,sidebar_position:1},i="Picking a Router",c={id:"routers/picking-a-router",title:"Picking a Router",description:"While your app will only use a single router, several routers are available depending on the environment your app is running in. This document should help you figure out which one to use.",source:"@site/react-router/docs/routers/picking-a-router.md",sourceDirName:"routers",slug:"/routers/picking-a-router",permalink:"/react-router-v6-searchable-docs/routers/picking-a-router",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1697135668,formattedLastUpdatedAt:"Oct 12, 2023",sidebarPosition:1,frontMatter:{title:"Picking a Router",order:1,new:!0,sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Routers",permalink:"/react-router-v6-searchable-docs/routers/index"},next:{title:"createBrowserRouter",permalink:"/react-router-v6-searchable-docs/routers/create-browser-router"}},a={},l=[{value:"Using v6.4 Data APIs",id:"using-v64-data-apis",level:2},{value:"Web Projects",id:"web-projects",level:2},{value:"Testing",id:"testing",level:2},{value:"React Native",id:"react-native",level:2},{value:"Data APIs",id:"data-apis",level:2}];function d(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h1,{id:"picking-a-router",children:"Picking a Router"}),"\n",(0,n.jsx)(r.p,{children:"While your app will only use a single router, several routers are available depending on the environment your app is running in. This document should help you figure out which one to use."}),"\n",(0,n.jsx)(r.h2,{id:"using-v64-data-apis",children:"Using v6.4 Data APIs"}),"\n",(0,n.jsxs)(r.p,{children:["In v6.4, new routers were introduced that support the new ",(0,n.jsx)(r.a,{href:"#data-apis",children:"data APIs"}),":"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"./create-browser-router",children:(0,n.jsx)(r.code,{children:"createBrowserRouter"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"./create-memory-router",children:(0,n.jsx)(r.code,{children:"createMemoryRouter"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"./create-hash-router",children:(0,n.jsx)(r.code,{children:"createHashRouter"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"./create-static-router",children:(0,n.jsx)(r.code,{children:"createStaticRouter"})})}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:"The following routers do not support the data APIs:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../router-components/browser-router",children:(0,n.jsx)(r.code,{children:"<BrowserRouter>"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../router-components/memory-router",children:(0,n.jsx)(r.code,{children:"<MemoryRouter>"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../router-components/hash-router",children:(0,n.jsx)(r.code,{children:"<HashRouter>"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../router-components/native-router",children:(0,n.jsx)(r.code,{children:"<NativeRouter>"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../router-components/static-router",children:(0,n.jsx)(r.code,{children:"<StaticRouter>"})})}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:"We recommend updating your app to use one of the new routers from 6.4. The data APIs are currently not supported in React Native, but should be eventually."}),"\n",(0,n.jsxs)(r.p,{children:["The easiest way to quickly update to a v6.4 is to get the help from ",(0,n.jsx)(r.a,{href:"../utils/create-routes-from-elements",children:(0,n.jsx)(r.code,{children:"createRoutesFromElements"})})," so you don't need to convert your ",(0,n.jsx)(r.code,{children:"<Route>"})," elements to route objects."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-jsx",children:'import {\n  createBrowserRouter,\n  createRoutesFromElements,\n  Route,\n  RouterProvider,\n} from "react-router-dom";\n\nconst router = createBrowserRouter(\n  createRoutesFromElements(\n    <Route path="/" element={<Root />}>\n      <Route path="dashboard" element={<Dashboard />} />\n      {/* ... etc. */}\n    </Route>\n  )\n);\n\nReactDOM.createRoot(document.getElementById("root")).render(\n  <React.StrictMode>\n    <RouterProvider router={router} />\n  </React.StrictMode>\n);\n'})}),"\n",(0,n.jsx)(r.h2,{id:"web-projects",children:"Web Projects"}),"\n",(0,n.jsxs)(r.p,{children:["We recommend all web projects use ",(0,n.jsx)(r.a,{href:"./create-browser-router",children:(0,n.jsx)(r.code,{children:"createBrowserRouter"})}),"."]}),"\n",(0,n.jsxs)(r.p,{children:["It uses the full URL instead of the hash urls (",(0,n.jsx)(r.code,{children:"#this/stuff"}),") common in web apps before ",(0,n.jsx)(r.code,{children:"history.pushState"})," was standardized. Full URLs are better for SEO, better for server rendering, and are just more compatible with the rest of the web platform."]}),"\n",(0,n.jsxs)(r.p,{children:["If you're hosting your app on a static file server, you'll need to configure it to send all requests to your ",(0,n.jsx)(r.code,{children:"index.html"})," to avoid getting 404s."]}),"\n",(0,n.jsxs)(r.p,{children:["If for some reason you can't use the full URL, ",(0,n.jsx)(r.a,{href:"./create-hash-router",children:(0,n.jsx)(r.code,{children:"createHashRouter"})})," is the next best thing."]}),"\n",(0,n.jsxs)(r.p,{children:["If you're not interested in the data APIs, you can continue to use ",(0,n.jsx)(r.a,{href:"../router-components/browser-router",children:(0,n.jsx)(r.code,{children:"<BrowserRouter>"})})," or, if you can't use full URLs, ",(0,n.jsx)(r.a,{href:"../router-components/hash-router",children:(0,n.jsx)(r.code,{children:"<HashRouter>"})}),"."]}),"\n",(0,n.jsx)(r.h2,{id:"testing",children:"Testing"}),"\n",(0,n.jsxs)(r.p,{children:["Testing components that use React Router APIs is easiest with ",(0,n.jsx)(r.a,{href:"./create-memory-router",children:(0,n.jsx)(r.code,{children:"createMemoryRouter"})})," or ",(0,n.jsx)(r.a,{href:"../router-components/memory-router",children:(0,n.jsx)(r.code,{children:"<MemoryRouter>"})})," instead of the routers you use in your app that require DOM history APIs."]}),"\n",(0,n.jsxs)(r.p,{children:["Some of the React Router APIs internally use ",(0,n.jsx)(r.code,{children:"fetch"}),", which is only supported starting from Node.js v18. If your project uses v17 or lower, you should add a ",(0,n.jsx)(r.code,{children:"fetch"})," polyfill manually. One way to do that, is to install ",(0,n.jsx)(r.a,{href:"https://www.npmjs.com/package/whatwg-fetch",children:(0,n.jsx)(r.code,{children:"whatwg-fetch"})})," and add it to your ",(0,n.jsx)(r.code,{children:"jest.config.js"})," file like so:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-js",children:'module.exports = {\n  setupFiles: ["whatwg-fetch"],\n  // ...rest of the config\n};\n'})}),"\n",(0,n.jsx)(r.h2,{id:"react-native",children:"React Native"}),"\n",(0,n.jsxs)(r.p,{children:["You will use ",(0,n.jsx)(r.a,{href:"../router-components/native-router",children:(0,n.jsx)(r.code,{children:"<NativeRouter>"})})," from React Native projects."]}),"\n",(0,n.jsx)(r.p,{children:"The data APIs from v6.4 are currently not supported in React Native, but should be eventually."}),"\n",(0,n.jsx)(r.h2,{id:"data-apis",children:"Data APIs"}),"\n",(0,n.jsx)(r.p,{children:"The following APIs are introduced in React Router 6.4 and will only work when using a data router:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../route/action",children:(0,n.jsx)(r.code,{children:"route.action"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../route/error-element",children:(0,n.jsx)(r.code,{children:"route.errorElement"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../route/lazy",children:(0,n.jsx)(r.code,{children:"route.lazy"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../route/loader",children:(0,n.jsx)(r.code,{children:"route.loader"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../route/should-revalidate",children:(0,n.jsx)(r.code,{children:"route.shouldRevalidate"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../route/route#handle",children:(0,n.jsx)(r.code,{children:"route.handle"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../components/await",children:(0,n.jsx)(r.code,{children:"<Await>"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../components/form",children:(0,n.jsx)(r.code,{children:"<Form>"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../components/scroll-restoration",children:(0,n.jsx)(r.code,{children:"<ScrollRestoration>"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../hooks/use-action-data",children:(0,n.jsx)(r.code,{children:"useActionData"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../hooks/use-async-error",children:(0,n.jsx)(r.code,{children:"useAsyncError"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../hooks/use-async-value",children:(0,n.jsx)(r.code,{children:"useAsyncValue"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../hooks/use-fetcher",children:(0,n.jsx)(r.code,{children:"useFetcher"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../hooks/use-fetchers",children:(0,n.jsx)(r.code,{children:"useFetchers"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../hooks/use-loader-data",children:(0,n.jsx)(r.code,{children:"useLoaderData"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../hooks/use-matches",children:(0,n.jsx)(r.code,{children:"useMatches"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../hooks/use-navigation",children:(0,n.jsx)(r.code,{children:"useNavigation"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../hooks/use-revalidator",children:(0,n.jsx)(r.code,{children:"useRevalidator"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../hooks/use-route-error",children:(0,n.jsx)(r.code,{children:"useRouteError"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../hooks/use-route-loader-data",children:(0,n.jsx)(r.code,{children:"useRouteLoaderData"})})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"../hooks/use-submit",children:(0,n.jsx)(r.code,{children:"useSubmit"})})}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"startViewTransition"})," support on ",(0,n.jsx)(r.a,{href:"../components/link#unstable_viewtransition",children:"Link"})," and ",(0,n.jsx)(r.a,{href:"../hooks/use-navigate#optionsunstable_viewtransition",children:"useNavigate"})]}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,o.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},1151:(e,r,t)=>{t.d(r,{Z:()=>c,a:()=>i});var n=t(7294);const o={},s=n.createContext(o);function i(e){const r=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),n.createElement(s.Provider,{value:r},e.children)}}}]);